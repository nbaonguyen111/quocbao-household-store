{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/cmder/quocbao-household-store/tg-dienmay/src/app/dang-ky/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { auth } from \"@/firebase/firebase\";\r\nimport {db} from \"@/firebase/firebase\";\r\nimport { useRouter } from \"next/navigation\";\r\nexport default function DangKy() {\r\n    const [name, setName] = useState(\"\");\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [success, setSuccess] = useState(\"\");\r\n    const router = useRouter();\r\n    const handleSubmit = async (e) => {\r\n\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(\"\");\r\n        try {\r\n            const userRegister =await createUserWithEmailAndPassword(auth, email, password);\r\n            \r\n            const user = userRegister.user;\r\n            await setDoc(doc(db, \"users\", user.uid), {\r\n                email: user.email,\r\n                createdAt: new Date(),\r\n                name: name,\r\n                phone: phone,\r\n                role:\"user\"\r\n              });\r\n            setSuccess(\"Đăng ký thành công\");\r\n            router.push(\"/dang-nhap\");\r\n\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n    return (\r\n        <div>\r\n            <div className=\"container mx-auto md:w-1/2 border border-black p-4 mt-4\">\r\n                <h1 className=\"text-3xl text-red-500 font-bold text-center mb-4\">Đăng ký</h1>\r\n\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div className=\"text-sm font-medium text-gray-700\">\r\n                            <label htmlFor=\"name\">Họ và tên</label>\r\n                            <input type=\"text\" id=\"name\" value={name} onChange={(e) => setName(e.target.value)} className=\"border border-black p-2 w-full\" placeholder=\"Nhập họ và tên\" required />\r\n                        </div>\r\n\r\n                        <div className=\"text-sm font-medium text-gray-700\">\r\n                            <label htmlFor=\"phone\">Số điện thoại</label>\r\n                            <input type=\"text\" id=\"phone\" value={phone} onChange={(e) => setPhone(e.target.value)} className=\"border border-black p-2 w-full\" placeholder=\"Nhập số điện thoại\" required />\r\n                        </div>\r\n\r\n                        <div className=\"text-sm font-medium text-gray-700\">\r\n                            <label htmlFor=\"email\">Email</label>\r\n                            <input type=\"email\" id=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} className=\"border border-black p-2 w-full\" placeholder=\"Nhập email\" required />\r\n                        </div>\r\n\r\n                        <div className=\"text-sm font-medium text-gray-700\">\r\n                            <label htmlFor=\"password\">Mật khẩu</label>\r\n                            <input type=\"password\" id=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"border border-black p-2 w-full\" placeholder=\"Nhập mật khẩu\" required />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 gap-4 mt-4\">\r\n                        <a className=\"bg-red-500 hover:bg-red-300 text-white text-center font-bold py-2 px-4 rounded w-full\" href=\"/dang-nhap\">Quay trở lại đăng nhập</a>\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"bg-red-500 hover:bg-red-200 text-white font-bold py-2 px-4 rounded w-full\">\r\n                            Đăng Ký\r\n                        </button>\r\n                    </div>\r\n\r\n                </form>\r\n                {error && <p className=\"text-red-500 mt-2\">{error}</p>}\r\n                {success && <p className=\"text-green-500 mt-2\">{success}</p>}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}