{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/cmder/quocbao-household-store/tg-dienmay/src/app/gio-hang/addtocart.js"],"sourcesContent":["\r\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport { db } from \"@/firebase/firebase\";\r\n\r\nexport const addToCart = async (userId, product) => {\r\n  try {\r\n    const productRef = doc(db, \"carts\", userId, \"items\", product.id);\r\n    const snapshot = await getDoc(productRef);\r\n\r\n    if (snapshot.exists()) {\r\n      const currentQty = snapshot.data().quantity || 1;\r\n      await setDoc(productRef, {\r\n        ...product,\r\n        quantity: currentQty + 1,\r\n      });\r\n    } else {\r\n      await setDoc(productRef, {\r\n        ...product,\r\n        quantity: 1,\r\n      });\r\n    }\r\n\r\n    console.log(\"✅ Đã thêm sản phẩm vào giỏ\");\r\n  } catch (error) {\r\n    console.error(\"❌ Lỗi khi thêm giỏ hàng:\", error);\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;AACA;AAAA;AACA;;;AAEO,MAAM,YAAY,OAAO,QAAQ;IACtC,IAAI;QACF,MAAM,aAAa,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,8HAAA,CAAA,KAAE,EAAE,SAAS,QAAQ,SAAS,QAAQ,EAAE;QAC/D,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE;QAE9B,IAAI,SAAS,MAAM,IAAI;YACrB,MAAM,aAAa,SAAS,IAAI,GAAG,QAAQ,IAAI;YAC/C,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,YAAY;gBACvB,GAAG,OAAO;gBACV,UAAU,aAAa;YACzB;QACF,OAAO;YACL,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,YAAY;gBACvB,GAAG,OAAO;gBACV,UAAU;YACZ;QACF;QAEA,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;IAC5C;AACF","debugId":null}}]
}