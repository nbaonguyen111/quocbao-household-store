{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/cmder/quocbao-household-store/tg-dienmay/src/app/admin/quan-tri-vien/page.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { db } from \"../../../firebase/firebase\";\r\nimport {\r\n    collection,\r\n    getDocs,\r\n    addDoc,\r\n    where,\r\n    updateDoc,\r\n    deleteDoc,\r\n    doc,\r\n    query,\r\n} from \"firebase/firestore\";\r\nimport { useAdmin } from \"../layout\";\r\nimport { createUserWithEmailAndPassword, signOut } from \"firebase/auth\";\r\nimport { auth } from \"../../../firebase/firebase\";\r\nimport { setDoc } from \"firebase/firestore\";\r\n\r\nexport default function QTV() {\r\n    const { currentUser, permissions } = useAdmin();\r\n    const [data, setData] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const pageSize = 8;\r\n\r\n    const [showEditModal, setShowEditModal] = useState(false);\r\n    const [editAdmin, setEditAdmin] = useState(null);\r\n    const [editForm, setEditForm] = useState({ name: '', email: '', role: '' });\r\n    const [saving, setSaving] = useState(false);\r\n    const [showDetailModal, setShowDetailModal] = useState(false);\r\n    const [detailAdmin, setDetailAdmin] = useState(null);\r\n    const [lockLoading, setLockLoading] = useState(null);\r\n    const [showAddModal, setShowAddModal] = useState(false);\r\n    const [addForm, setAddForm] = useState({ name: '', email: '', password: '', role: 'admin' });\r\n    const [adding, setAdding] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const q = query(collection(db, \"adminUsers\"));\r\n            const querySnapshot = await getDocs(q);\r\n            const items = querySnapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            }));\r\n            setData(items);\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    const totalPages = Math.ceil(data.length / pageSize);\r\n    const paginatedData = data.slice((currentPage - 1) * pageSize, currentPage * pageSize);\r\n\r\n    const handlePageChange = (page) => {\r\n        if (page >= 1 && page <= totalPages) setCurrentPage(page);\r\n    };\r\n\r\n    const handleEdit = (admin) => {\r\n        if (!permissions.canEditAdmins) {\r\n            alert(\"Bạn không có quyền chỉnh sửa admin!\");\r\n            return;\r\n        }\r\n        if (currentUser.role === 'admin' && admin.role === 'superadmin') {\r\n            alert(\"Bạn không thể chỉnh sửa tài khoản Super Admin!\");\r\n            return;\r\n        }\r\n\r\n        setEditAdmin(admin);\r\n        setEditForm({\r\n            name: admin.name || '',\r\n            email: admin.email || '',\r\n            role: admin.role || '',\r\n        });\r\n        setShowEditModal(true);\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        if (!permissions.canDeleteAdmins) {\r\n            alert(\"Bạn không có quyền xóa admin!\");\r\n            return;\r\n        }\r\n\r\n        const admin = data.find(u => u.id === id);\r\n        if (admin.id === currentUser.uid) {\r\n            alert(\"Bạn không thể xóa tài khoản của chính mình!\");\r\n            return;\r\n        }\r\n        if (currentUser.role === 'admin' && admin.role === 'superadmin') {\r\n            alert(\"Bạn không thể xóa tài khoản Super Admin!\");\r\n            return;\r\n        }\r\n\r\n        if (window.confirm(`Bạn chắc chắn muốn xóa \"${admin.name}\" ?`)) {\r\n            try {\r\n                await deleteDoc(doc(db, \"adminUsers\", id));\r\n                setData(prev => prev.filter(u => u.id !== id));\r\n            } catch (error) {\r\n                alert(\"Lỗi khi xóa admin!\");\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setShowEditModal(false);\r\n        setEditAdmin(null);\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        if (!editAdmin) return;\r\n        if (!permissions.canEditAdmins) {\r\n            alert(\"Bạn không có quyền chỉnh sửa admin!\");\r\n            return;\r\n        }\r\n\r\n        setSaving(true);\r\n        try {\r\n            await updateDoc(doc(db, \"adminUsers\", editAdmin.id), {\r\n                name: editForm.name,\r\n                email: editForm.email,\r\n                role: editForm.role,\r\n            });\r\n            setData(prev => prev.map(u => u.id === editAdmin.id ? { ...u, ...editForm } : u));\r\n            setShowEditModal(false);\r\n            setEditAdmin(null);\r\n        } catch (e) {\r\n            alert(\"Lỗi khi lưu chỉnh sửa!\");\r\n        }\r\n        setSaving(false);\r\n    };\r\n\r\n    const handleShowDetail = (admin) => {\r\n        setDetailAdmin(admin);\r\n        setShowDetailModal(true);\r\n    };\r\n\r\n    const handleCloseDetail = () => {\r\n        setShowDetailModal(false);\r\n        setDetailAdmin(null);\r\n    };\r\n    const canEditThisAdmin = (admin) => {\r\n        if (!permissions.canEditAdmins) return false;\r\n        if (currentUser.role === 'admin' && admin.role === 'superadmin') return false;\r\n        return true;\r\n    };\r\n    const canDeleteThisAdmin = (admin) => {\r\n        if (!permissions.canDeleteAdmins) return false;\r\n        if (admin.id === currentUser.uid) return false;\r\n        if (currentUser.role === 'admin' && admin.role === 'superadmin') return false;\r\n        return true;\r\n    };\r\n    const handleAddAdmin = async () => {\r\n        if (!permissions.canManageAdmins) {\r\n            alert(\"Bạn không có quyền thêm admin!\");\r\n            return;\r\n        }\r\n\r\n        if (!addForm.name || !addForm.email || !addForm.password) {\r\n            alert(\"Vui lòng nhập đầy đủ thông tin!\");\r\n            return;\r\n        }\r\n\r\n        if (addForm.password.length < 6) {\r\n            alert(\"Mật khẩu phải có ít nhất 6 ký tự!\");\r\n            return;\r\n        }\r\n\r\n        setAdding(true);\r\n        try {\r\n            const userCredential = await createUserWithEmailAndPassword(\r\n                auth,\r\n                addForm.email,\r\n                addForm.password\r\n            );\r\n\r\n            const user = userCredential.user;\r\n            const newAdmin = {\r\n                name: addForm.name,\r\n                email: addForm.email,\r\n                role: addForm.role,\r\n                createdAt: new Date(),\r\n                uid: user.uid\r\n            };\r\n\r\n            await setDoc(doc(db, \"adminUsers\", user.uid), newAdmin);\r\n            setData(prev => [...prev, { id: user.uid, ...newAdmin }]);\r\n            setShowAddModal(false);\r\n            setAddForm({ name: '', email: '', password: '', role: 'admin' });\r\n            alert(\"Thêm admin thành công! Admin có thể đăng nhập với email và mật khẩu vừa tạo.\");\r\n        } catch (error) {\r\n            console.error(\"Error adding admin:\", error);\r\n            if (error.code === 'auth/email-already-in-use') {\r\n                alert(\"Email này đã được sử dụng!\");\r\n            } else if (error.code === 'auth/weak-password') {\r\n                alert(\"Mật khẩu quá yếu!\");\r\n            } else {\r\n                alert(\"Lỗi khi thêm admin: \" + error.message);\r\n            }\r\n        }\r\n        setAdding(false);\r\n    };\r\n\r\n    const handleCloseAddModal = () => {\r\n        setShowAddModal(false);\r\n        setAddForm({ name: '', email: '', password: '', role: 'admin' });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"overflow-x-auto \">\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                    <h1 className=\"text-2xl text-black font-bold\">Quản lý Admin</h1>\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"text-sm text-gray-600\">\r\n                            Vai trò hiện tại: <span className=\"font-semibold\">{currentUser?.role}</span>\r\n                        </div>\r\n                        {permissions.canManageAdmins && (\r\n                            <button\r\n                                className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\r\n                                onClick={() => setShowAddModal(true)}\r\n                            >\r\n                                Thêm Admin\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"shadow-lg \">\r\n                    <table className=\"min-w-full text-gray-500 rounded\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th className=\"border px-2 py-1\">#ID</th>\r\n                                <th className=\"border px-2 py-1\">Name</th>\r\n                                <th className=\"border px-2 py-1\">Email</th>\r\n                                <th className=\"border px-2 py-1\">Role</th>\r\n                                <th className=\"border px-2 py-1\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {paginatedData.map((u, idx) => (\r\n                                <tr key={u.id} className={`${idx % 2 === 0 ? \"bg-white\" : \"bg-gray-300\"}`}>\r\n                                    <td className=\" px-2 py-1 text-center\">{(currentPage - 1) * pageSize + idx + 1}</td>\r\n                                    <td className=\" px-2 py-1\">\r\n                                        <button className=\"text-blue-600 underline hover:text-blue-800\" onClick={() => handleShowDetail(u)}>{u.name}</button>\r\n                                    </td>\r\n                                    <td className=\" px-2 py-1\">{u.email}</td>\r\n                                    <td className=\" px-2 py-1\">\r\n                                        <span className={`px-2 py-1 rounded text-xs font-semibold ${u.role === 'superadmin' ? 'bg-red-200 text-red-700' :\r\n                                            u.role === 'admin' ? 'bg-blue-200 text-blue-700' :\r\n                                                'bg-green-200 text-green-700'\r\n                                            }`}>\r\n                                            {u.role === 'superadmin' ? 'Super Admin' :\r\n                                                u.role === 'admin' ? 'Admin' : 'Moderator'}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\" px-2 py-1 flex gap-2 justify-center\">\r\n                                        {canEditThisAdmin(u) && (\r\n                                            <button\r\n                                                className=\"bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600\"\r\n                                                onClick={() => handleEdit(u)}\r\n                                            >\r\n                                                Edit\r\n                                            </button>\r\n                                        )}\r\n                                        {canDeleteThisAdmin(u) && (\r\n                                            <button\r\n                                                className=\"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600\"\r\n                                                onClick={() => handleDelete(u.id)}\r\n                                            >\r\n                                                Delete\r\n                                            </button>\r\n                                        )}\r\n                                        {!canEditThisAdmin(u) && !canDeleteThisAdmin(u) && (\r\n                                            <span className=\"text-gray-400 text-xs\">Chỉ xem</span>\r\n                                        )}\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                {totalPages > 1 && (\r\n                    <div className=\"flex justify-center mt-4 gap-1\">\r\n                        <button\r\n                            onClick={() => handlePageChange(currentPage - 1)}\r\n                            disabled={currentPage === 1}\r\n                            className=\"px-3 py-1 border rounded bg-white text-black disabled:opacity-50\" >&lt;\r\n                        </button>\r\n                        {Array.from({ length: totalPages }, (_, i) => (\r\n                            <button\r\n                                key={i + 1}\r\n                                onClick={() => handlePageChange(i + 1)}\r\n                                className={`px-3 py-1 border rounded ${currentPage === i + 1 ? \"bg-blue-500 text-white\" : \"bg-white text-black\"}`}\r\n                            >\r\n                                {i + 1}\r\n                            </button>\r\n                        ))}\r\n                        <button\r\n                            onClick={() => handlePageChange(currentPage + 1)}\r\n                            disabled={currentPage === totalPages}\r\n                            className=\"px-3 py-1 border rounded bg-white text-black disabled:opacity-50\"\r\n                        >\r\n                            &gt;\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {showEditModal && (\r\n                    <div className=\"fixed inset-0 flex items-center justify-center bg-black text-yellow-400 bg-opacity-40 z-50\">\r\n                        <div className=\"bg-white rounded-lg p-6 w-full max-w-md shadow-lg relative\">\r\n                            <h2 className=\"text-xl font-bold mb-4 text-gray-700\">Chỉnh sửa</h2>\r\n                            <div className=\"space-y-3\">\r\n                                <div>\r\n                                    <label className=\"block text-gray-600 mb-1\">Tên</label>\r\n                                    <input type=\"text\" className=\"w-full border rounded px-3 py-2\" value={editForm.name} onChange={e => setEditForm(f => ({ ...f, name: e.target.value }))} />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-gray-600 mb-1\">Email</label>\r\n                                    <input type=\"email\" className=\"w-full border rounded px-3 py-2\" value={editForm.email} onChange={e => setEditForm(f => ({ ...f, email: e.target.value }))} />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-gray-600 mb-1\">Vai trò</label>\r\n                                    <select className=\"w-full border rounded px-3 py-2\" value={editForm.role} onChange={e => setEditForm(f => ({ ...f, role: e.target.value }))}>\r\n                                        {currentUser.role === 'superadmin' && (\r\n                                            <option value=\"superadmin\">Super Admin</option>\r\n                                        )}\r\n                                        <option value=\"admin\">Admin</option>\r\n                                        <option value=\"moderator\">Moderator</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex justify-end gap-2 mt-6\">\r\n                                <button className=\"px-4 py-2 rounded bg-gray-300 text-gray-700 hover:bg-gray-400\" onClick={handleCloseModal} disabled={saving}>Huỷ</button>\r\n                                <button className=\"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600\" onClick={handleSave} disabled={saving}>{saving ? \"Đang lưu...\" : \"Lưu\"}</button>\r\n                            </div>\r\n                            <button className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-2xl\" onClick={handleCloseModal}>&times;</button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                {showDetailModal && detailAdmin && (\r\n                    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\r\n                        <div className=\"bg-white rounded-lg p-6 w-full max-w-md shadow-lg relative\">\r\n                            <h2 className=\"text-xl font-bold mb-4 text-gray-700\">Chi tiết</h2>\r\n                            <div className=\"space-y-3 text-gray-700\">\r\n                                <div><span className=\"font-semibold\">Tên:</span> {detailAdmin.name}</div>\r\n                                <div><span className=\"font-semibold\">Email:</span> {detailAdmin.email}</div>\r\n                                <div><span className=\"font-semibold\">Vai trò:</span>\r\n                                    <span className={`ml-2 px-2 py-1 rounded text-xs font-semibold ${detailAdmin.role === 'superadmin' ? 'bg-red-200 text-red-700' :\r\n                                        detailAdmin.role === 'admin' ? 'bg-blue-200 text-blue-700' :\r\n                                            'bg-green-200 text-green-700'\r\n                                        }`}>\r\n                                        {detailAdmin.role === 'superadmin' ? 'Super Admin' :\r\n                                            detailAdmin.role === 'admin' ? 'Admin' : 'Moderator'}\r\n                                    </span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className=\"font-semibold\">Ngày tạo tài khoản:</span>{' '}\r\n                                    {detailAdmin.createdAt?.toDate().toLocaleString()}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex justify-end gap-2 mt-6\">\r\n                                <button className=\"px-4 py-2 rounded bg-gray-300 text-gray-700 hover:bg-gray-400\" onClick={handleCloseDetail}>Đóng</button>\r\n                            </div>\r\n                            <button className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-2xl\" onClick={handleCloseDetail}>&times;</button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                {showAddModal && (\r\n                    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\r\n                        <div className=\"bg-white rounded-lg p-6 w-full max-w-md shadow-lg relative\">\r\n                            <h2 className=\"text-xl font-bold mb-4 text-gray-700\">Thêm Admin mới</h2>\r\n                            <div className=\"space-y-3\">\r\n                                <div>\r\n                                    <label className=\"block text-gray-600 mb-1\">Tên</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"w-full border rounded px-3 py-2\"\r\n                                        value={addForm.name}\r\n                                        onChange={e => setAddForm(f => ({ ...f, name: e.target.value }))}\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-gray-600 mb-1\">Email (dùng để đăng nhập)</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        className=\"w-full border rounded px-3 py-2\"\r\n                                        value={addForm.email}\r\n                                        onChange={e => setAddForm(f => ({ ...f, email: e.target.value }))}\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-gray-600 mb-1\">Mật khẩu</label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        className=\"w-full border rounded px-3 py-2\"\r\n                                        value={addForm.password}\r\n                                        onChange={e => setAddForm(f => ({ ...f, password: e.target.value }))}\r\n                                        placeholder=\"Ít nhất 6 ký tự\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-gray-600 mb-1\">Vai trò</label>\r\n                                    <select\r\n                                        className=\"w-full border rounded px-3 py-2\"\r\n                                        value={addForm.role}\r\n                                        onChange={e => setAddForm(f => ({ ...f, role: e.target.value }))}\r\n                                    >\r\n                                        {currentUser.role === 'superadmin' && (\r\n                                            <option value=\"superadmin\">Super Admin</option>\r\n                                        )}\r\n                                        <option value=\"admin\">Admin</option>\r\n                                        <option value=\"moderator\">Moderator</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex justify-end gap-2 mt-6\">\r\n                                <button\r\n                                    className=\"px-4 py-2 rounded bg-gray-300 text-gray-700 hover:bg-gray-400\"\r\n                                    onClick={handleCloseAddModal}\r\n                                    disabled={adding}\r\n                                >\r\n                                    Huỷ\r\n                                </button>\r\n                                <button\r\n                                    className=\"px-4 py-2 rounded bg-green-500 text-white hover:bg-green-600\"\r\n                                    onClick={handleAddAdmin}\r\n                                    disabled={adding}\r\n                                >\r\n                                    {adding ? \"Đang thêm...\" : \"Thêm\"}\r\n                                </button>\r\n                            </div>\r\n                            <button\r\n                                className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-2xl\"\r\n                                onClick={handleCloseAddModal}\r\n                            >\r\n                                &times;\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}