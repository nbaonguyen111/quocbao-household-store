{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/cmder/quocbao-household-store/tg-dienmay/src/app/admin/cai-dat/page.jsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport { db } from \"@/firebase/firebase\";\r\nimport { FaCog, FaImage, FaPhoneAlt, FaMapMarkerAlt, FaGlobe, FaEnvelope, FaUndo } from \"react-icons/fa\";\r\n\r\nexport default function Caidat() {\r\n  const [settings, setSettings] = useState({\r\n    logo: \"\",\r\n    favicon: \"\",\r\n    hotline: \"\",\r\n    address: \"\",\r\n    websiteName: \"\",\r\n    email: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n \r\n  const fetchSettings = async () => {\r\n    setLoading(true);\r\n    const ref = doc(db, \"settings\", \"main\");\r\n    const snap = await getDoc(ref);\r\n    if (snap.exists()) setSettings(snap.data());\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSettings();\r\n    \r\n  }, []);\r\n\r\n  \r\n  const handleSave = async (e) => {\r\n    e.preventDefault();\r\n    await setDoc(doc(db, \"settings\", \"main\"), settings);\r\n    setMessage(\"✅ Đã lưu cài đặt!\");\r\n    await fetchSettings(); \r\n    setTimeout(() => setMessage(\"\"), 2500);\r\n  };\r\n\r\n  \r\n  const handleReset = () => {\r\n    setSettings({\r\n      logo: \"\",\r\n      favicon: \"\",\r\n      hotline: \"\",\r\n      address: \"\",\r\n      websiteName: \"\",\r\n      email: \"\",\r\n    });\r\n    setMessage(\"Đã reset về mặc định!\");\r\n    setTimeout(() => setMessage(\"\"), 2000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-100 to-blue-300 p-8\">\r\n      <div className=\"max-w-xl mx-auto bg-blue-900 rounded-2xl shadow-2xl p-8\">\r\n        <h1 className=\"text-3xl font-bold text-blue-700 mb-6 flex items-center gap-3\">\r\n          <FaCog className=\"text-blue-500\" /> Cài đặt website\r\n        </h1>\r\n        {message && (\r\n          <div className=\"mb-4 px-4 py-2 bg-green-100 border border-green-300 text-green-700 rounded shadow text-center animate-bounce font-semibold\">\r\n            {message}\r\n          </div>\r\n        )}\r\n        {loading ? (\r\n          <div className=\"text-blue-600 text-center font-semibold\">Đang tải dữ liệu...</div>\r\n        ) : (\r\n          <form onSubmit={handleSave} className=\"space-y-5\">\r\n            <div>\r\n              <label className=\"block font-semibold mb-1 flex items-center gap-2\">\r\n                <FaGlobe /> Tên website\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"border rounded px-3 py-2 w-full focus:ring-2 focus:ring-blue-300\"\r\n                value={settings.websiteName}\r\n                onChange={e => setSettings({ ...settings, websiteName: e.target.value })}\r\n                placeholder=\"Nhập tên website...\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block font-semibold mb-1 flex items-center gap-2\">\r\n                <FaPhoneAlt /> Hotline\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"border rounded px-3 py-2 w-full focus:ring-2 focus:ring-blue-300\"\r\n                value={settings.hotline}\r\n                onChange={e => setSettings({ ...settings, hotline: e.target.value })}\r\n                placeholder=\"Nhập số hotline...\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block font-semibold mb-1 flex items-center gap-2\">\r\n                <FaEnvelope /> Email liên hệ\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"border rounded px-3 py-2 w-full focus:ring-2 focus:ring-blue-300\"\r\n                value={settings.email}\r\n                onChange={e => setSettings({ ...settings, email: e.target.value })}\r\n                placeholder=\"Nhập email liên hệ...\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block font-semibold mb-1 flex items-center gap-2\">\r\n                <FaMapMarkerAlt /> Địa chỉ\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"border rounded px-3 py-2 w-full focus:ring-2 focus:ring-blue-300\"\r\n                value={settings.address}\r\n                onChange={e => setSettings({ ...settings, address: e.target.value })}\r\n                placeholder=\"Nhập địa chỉ...\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block font-semibold mb-1 flex items-center gap-2\">\r\n                <FaImage /> Logo (URL)\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"border rounded px-3 py-2 w-full focus:ring-2 focus:ring-blue-300\"\r\n                value={settings.logo}\r\n                onChange={e => setSettings({ ...settings, logo: e.target.value })}\r\n                placeholder=\"Dán link ảnh logo...\"\r\n              />\r\n              {settings.logo && (\r\n                <div className=\"flex flex-col items-center mt-2\">\r\n                  <img src={settings.logo} alt=\"Logo\" className=\"h-24 rounded shadow-lg border\" />\r\n                  <span className=\"text-xs text-gray-500 mt-1\">Xem trước logo</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div>\r\n              <label className=\"block font-semibold mb-1 flex items-center gap-2\">\r\n                <FaImage /> Favicon (URL)\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"border rounded px-3 py-2 w-full focus:ring-2 focus:ring-blue-300\"\r\n                value={settings.favicon}\r\n                onChange={e => setSettings({ ...settings, favicon: e.target.value })}\r\n                placeholder=\"Dán link favicon...\"\r\n              />\r\n              {settings.favicon && (\r\n                <div className=\"flex flex-col items-center mt-2\">\r\n                  <img src={settings.favicon} alt=\"Favicon\" className=\"h-10 w-10 rounded shadow border\" />\r\n                  <span className=\"text-xs text-gray-500 mt-1\">Xem trước favicon</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"flex gap-3 mt-6\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded font-semibold shadow transition\"\r\n              >\r\n                Lưu cài đặt\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded font-semibold shadow flex items-center gap-2 transition\"\r\n                onClick={handleReset}\r\n              >\r\n                <FaUndo /> Reset\r\n              </button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}